<script>
    // Navigation Logic
    let currentSlideIndex = 0;
    const slides = document.querySelectorAll('.slide');

    function updateSlide(newIndex) {
        if (newIndex < 0 || newIndex >= slides.length) return;

        // Hide current slide
        const current = slides[currentSlideIndex];
        current.classList.remove('active', 'opacity-100', 'z-10');
        current.classList.add('opacity-0', 'z-0');

        currentSlideIndex = newIndex;

        // Show new slide
        const next = slides[currentSlideIndex];
        next.classList.remove('opacity-0', 'z-0');
        next.classList.add('active', 'opacity-100', 'z-10');
    }

    document.addEventListener('keydown', (e) => {
        if (['ArrowRight', ' ', 'PageDown'].includes(e.key)) updateSlide(currentSlideIndex + 1);
        if (['ArrowLeft', 'PageUp'].includes(e.key)) updateSlide(currentSlideIndex - 1);
    });

    // KaTeX Initialization
    document.addEventListener('DOMContentLoaded', function () {
        if (typeof renderMathInElement === 'function') {
            renderMathInElement(document.body, {
                delimiters: [
                    { left: '$$', right: '$$', display: true },
                    { left: '$', right: '$', display: false },
                    { left: '\\(', right: '\\)', display: false },
                    { left: '\\[', right: '\\[', display: true }
                ],
                throwOnError: false
            });
        }
    });
</script>